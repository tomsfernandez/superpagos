(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)s=i[d],a[s]&&m.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},o=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"01ef":function(t,e,r){"use strict";var n=r("245b"),a=r.n(n);a.a},"034f":function(t,e,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"0845":function(t,e,r){},"245b":function(t,e,r){},"2ea7":function(t,e,r){"use strict";var n=r("5f41"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var n=r("a026"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],s=(r("034f"),r("2877")),i={},c=Object(s["a"])(i,a,o,!1,null,null,null),l=c.exports,u=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("Nav"),r("router-view")],1)},m=[],p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[r("router-link",{attrs:{to:{path:"/home"}}},[r("a",{staticClass:"navbar-brand"},[t._v("Superpagos")])]),t._m(0),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[r("ul",{staticClass:"navbar-nav"},[r("li",{staticClass:"nav-item active"},[r("a",{staticClass:"nav-link"},[r("router-link",{attrs:{to:{name:"operations"}}},[t._v("Mis operaciones")]),r("span",{staticClass:"sr-only"},[t._v("(current)")])],1)]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link"},[r("router-link",{attrs:{to:{name:"methods"}}},[t._v("Medios de pago")])],1)]),t.isAdmin?r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link"},[r("router-link",{attrs:{to:{name:"providers"}}},[t._v("Proveedores")])],1)]):t._e(),r("Logout")],1)])],1)},v=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}],f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{href:"#","data-cy":"logout"},on:{click:t.logout}},[t._v("Logout")])])},g=[],h=(r("96cf"),r("3b8d")),b={name:"Logout",methods:{logout:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("logout");case 2:return t.next=4,this.$router.push("/login");case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},y=b,w=Object(s["a"])(y,f,g,!1,null,"03890aae",null),k=w.exports,C=r("2f62"),P={name:"Nav",components:{Logout:k},computed:Object(C["d"])(["isAdmin"])},_=P,x=Object(s["a"])(_,p,v,!1,null,"1b11d1fc",null),E=x.exports,O={name:"home",components:{Nav:E}},R=O,T=Object(s["a"])(R,d,m,!1,null,null,null),j=T.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"landing"},[n("div",{staticClass:"col-sm-6 superpagos-background"},[n("h1",{staticClass:"superpagos-title"},[t._v(t._s(t.title))]),n("img",{staticClass:"superpagos-logo",attrs:{src:r("f79e"),alt:"Superpagos Logo"}})]),n("router-view")],1)},I=[],S={name:"Landing",data:function(){return{title:"Superpagos"}}},$=S,L=(r("94df"),Object(s["a"])($,M,I,!1,null,"4f23ff9d",null)),N=L.exports,q=r("795b"),B=r.n(q),A=(r("ac6a"),r("5df3"),r("5176")),D=r.n(A),F=(r("7f7f"),r("bc3a")),H=r.n(F);function z(t){return H.a.get("Movements/state/".concat(t))}function U(t){return H.a.post("Payment",t)}function W(t){return H.a.post("PaymentButtons",t)}function G(t){return H.a.delete("PaymentButtons/".concat(t))}function V(){return H.a.get("PaymentButtons")}var J=function(t){return H.a.post("PaymentMethods",t)},K=function(t){return H.a.post("/login",t)},Q=function(t){return H.a.post("/renew",{},{headers:{Authorization:"Bearer ".concat(t)}})},X=function(t){return H.a.post("users",t)},Y=function(){return H.a.get("PaymentMethods",{})},Z=function(){return H.a.get("Providers",{})},tt=function(t){return H.a.post("Providers",t)},et=function(t){return H.a.delete("Providers/".concat(t))},rt=function(t){return H.a.delete("PaymentMethods/".concat(t))},nt=function(){return H.a.get("Movements")},at=function(t){return H.a.post("PasswordRecovery",t)},ot=function(t){return H.a.post("PasswordRecovery/reset",t)},st=r("b054"),it=r.n(st);n["default"].use(C["a"]);var ct="longLivedToken",lt="shortLivedToken",ut=function(){return{user:{},longLivedToken:localStorage.getItem(ct)||"",shortLivedToken:localStorage.getItem(lt)||"",methods:[],isAdmin:!1}},dt=new C["a"].Store({plugins:[it()()],state:{user:{},longLivedToken:localStorage.getItem(ct)||"",shortLivedToken:localStorage.getItem(lt)||"",methods:[],isAdmin:!1,providers:[],operations:[],buttons:[],transactionState:"",transactionId:0,pollInterval:{}},getters:{isAuthenticated:function(t){return""!==t.longLivedToken&&""!==t.shortLivedToken},getMethodsForPayment:function(t){return t.methods.map(function(t){return{id:t.id,name:t.name}})},isTransactionInProgress:function(t){return"inProgress"===t.transactionState},hasTransactionFinished:function(t){return"finished"===t.transactionState},hasTransactionError:function(t){return"error"===t.transactionState}},mutations:{startTransaction:function(t){t.transactionState="inProgress"},finishTransaction:function(t){t.transactionState="finished"},errorTransaction:function(t){t.transactionState="error"},setUser:function(t,e){t.user=e},setAdmin:function(t,e){t.isAdmin=e},setLongLivedToken:function(t,e){localStorage.setItem(ct,e),t.longLivedToken=e},setShortLivedToken:function(t,e){localStorage.setItem(lt,e),t.shortLivedToken=e},setMethods:function(t,e){t.methods=e},removeMethod:function(t,e){t.methods=t.methods.filter(function(t){return t.id!==e})},resetState:function(t){localStorage.removeItem(lt),localStorage.removeItem(ct),D()(t,ut())},setProviders:function(t,e){t.providers=e},addProvider:function(t,e){t.providers=t.providers.concat([e])},removeProvider:function(t,e){t.providers=t.providers.filter(function(t){return t.id!==e})},setButtons:function(t,e){t.buttons=e},addButton:function(t,e){t.buttons=t.buttons.concat([e])},removeButton:function(t,e){t.buttons=t.buttons.filter(function(t){return t.id!==e})},setOperations:function(t,e){t.operations=e},addOperation:function(t,e){t.operations=t.operations.concat([e])},setTransaction:function(t,e){t.transactionId=e},setPollingInterval:function(t,e){t.interval=e},stopPollingInterval:function(t){var e=t.interval;t.interval={},clearInterval(e)}},actions:{login:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",K(r).then(function(t){return B.a.all([n("setLongLivedToken",t.data.longLivedToken),n("setShortLivedToken",t.data.shortLivedToken),n("setAdmin",t.data.isAdmin)])}));case 2:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),renewToken:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.getters,t.prev=1,t.next=4,Q(n.longLivedToken());case 4:a=t.sent,r("setShortLivedToken",a.data.token),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),r("logout");case 11:case"end":return t.stop()}},t,this,[[1,8]])}));function e(e){return t.apply(this,arguments)}return e}(),getMethods:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Y();case 3:n=t.sent,r("setMethods",n.data);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r("resetState");case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getProviders:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Z();case 3:n=t.sent,r("setProviders",n.data);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getOperations:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,nt();case 3:n=t.sent,r("setOperations",n.data);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getButtons:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,V();case 3:n=t.sent,r("setButtons",n.data);case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),createProvider:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,tt(r);case 3:a=t.sent,n("addProvider",a.data);case 5:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),createButton:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,W(r);case 3:a=t.sent,n("addButton",a.data);case 5:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),deleteProvider:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",et(r).then(function(t){console.log(t),n("removeProvider",r)}).catch(function(t){return console.log(t)}));case 2:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),deleteMethod:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",rt(r).then(function(t){console.log(t),n("removeMethod",r)}).catch(function(t){return console.log(t)}));case 2:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),deleteButton:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",G(r).then(function(t){n("removeButton",r)}));case 2:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),makePayment:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=e.dispatch,t.prev=1,n("startTransaction"),t.next=5,U(r);case 5:o=t.sent,n("setTransaction",o.data),a("pollPayment",o.data),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(e,r){return t.apply(this,arguments)}return e}(),pollPayment:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit;try{a=setInterval(Object(h["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z(r);case 2:e=t.sent,a=e.data,(a.failed||a.success)&&n("stopPollingInterval"),a.failed?n("errorTransaction"):a.success&&n("finishTransaction");case 6:case"end":return t.stop()}},t,this)})),1e3),n("setPollingInterval",a)}catch(o){console.log(o)}case 2:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}()}}),mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"jumbotron superpagos-login"},[r("ErrorMessages",{attrs:{errors:t.errorMessages,"data-cy":"messages"}}),r("form",{on:{submit:t.login}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"emailInput"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"emailInput","data-cy":"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"passwordInput"}},[t._v("Contraseña")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"passwordInput","data-cy":"password",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("button",{staticClass:"btn badge-primary btn-block",attrs:{type:"submit","data-cy":"submit"}},[t._v("Iniciar Sesión")]),r("br"),r("div",{staticClass:"offset-sm-7 col-sm-5 no-padding"},[r("button",{staticClass:"btn badge-primary btn-block",attrs:{"data-cy":"register-button"},on:{click:t.goRegister}},[t._v("\n\t\t\t\t\tNuevo usuario\n\t\t\t\t")]),r("br"),r("a",{staticClass:"float-right",attrs:{href:"#","data-cy":"password-recovery"},on:{click:function(e){t.goToPasswordRecoveryDialog()}}},[t._v("Recuperar contraseña")])])])],1)])},pt=[],vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.showErrorMessages,expression:"showErrorMessages"}],staticClass:"alert alert-danger",attrs:{role:"alert","data-cy":"error-div",id:"errorMessages"}},[r("ul",t._l(t.errors,function(e){return r("li",{key:e},[t._v("\n                "+t._s(e)+"\n            ")])}),0)]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showSuccessMessages,expression:"showSuccessMessages"}],staticClass:"alert alert-success",attrs:{role:"alert","data-cy":"success-div",id:"successMessages"}},[r("ul",t._l(t.successMsgs,function(e){return r("li",{key:e},[t._v("\n                "+t._s(e)+"\n            ")])}),0)])])},ft=[],gt={name:"Messages",props:{errors:{type:Array,default:function(){return[]}},successMsgs:{type:Array,default:function(){return[]}}},computed:{showErrorMessages:function(){return this.errors.length>0},showSuccessMessages:function(){return this.successMsgs.length>0}}},ht=gt,bt=Object(s["a"])(ht,vt,ft,!1,null,"20a8c6eb",null),yt=bt.exports,wt={name:"Login",components:{ErrorMessages:yt},data:function(){return{email:"",password:"",errorMessages:[]}},methods:{login:function(t){var e=this;t.preventDefault(),this.$store.dispatch("login",{email:this.email,password:this.password}).then(function(){return e.$router.push("home")}).catch(function(t){switch(t.response.status){case 401:e.errorMessages=["Las credenciales son inválidas"];break;default:break}})},goRegister:function(){this.$router.push("/register")},goToPasswordRecoveryDialog:function(){this.$router.push("/passwordRecovery")}}},kt=wt,Ct=(r("01ef"),Object(s["a"])(kt,mt,pt,!1,null,"a3cc2fb8",null)),Pt=Ct.exports,_t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-6 register"},[r("div",{staticClass:"jumbotron superpagos-register"},[r("ErrorMessages",{attrs:{errors:t.errorMessages,"data-cy":"messages"}}),r("form",{on:{submit:t.register}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"nameInput"}},[t._v("Nombre")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"nameInput","data-cy":"name",placeholder:"Nombre",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"emailInput"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"emailInput",placeholder:"Dirección email","data-cy":"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"passwordInput"}},[t._v("Contraseña")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"passwordInput",placeholder:"Contraseña","data-cy":"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("button",{staticClass:"btn badge-primary btn-block",attrs:{type:"submit","data-cy":"submit"}},[t._v("Registrarse")])]),r("br"),r("div",{staticClass:"offset-sm-8 col-sm-4"},[r("button",{staticClass:"btn badge-primary btn-block",on:{click:function(e){t.reset()}}},[t._v("Cancelar")])])],1)])},xt=[],Et={name:"Register",components:{ErrorMessages:yt},props:{role:{type:String,default:"USER"}},data:function(){return{name:"",email:"",password:"",errorMessages:[]}},methods:{reset:function(){this.name="",this.email="",this.password=""},register:function(t){var e=this;t.preventDefault();var r={name:this.name,email:this.email,password:this.password,role:this.role};X(r).then(function(){return e.$router.push("login")}).catch(function(t){return e.errorMessages=t.response.data})}}},Ot=Et,Rt=(r("e2b7"),Object(s["a"])(Ot,_t,xt,!1,null,"7dbc59a4",null)),Tt=Rt.exports,jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row",staticStyle:{"margin-top":"1em"}},[r("div",{staticClass:"col-md-10 offset-md-1"},[r("kendo-grid",{attrs:{"data-source":t.operations,pageable:!0,"sortable-mode":"multiple","sortable-allow-unsort":!0,resizable:!0,"sortable-show-indexes":!0,"filterable-mode":"row"}},[r("kendo-grid-column",{attrs:{field:"id",title:"ID",width:40}}),r("kendo-grid-column",{attrs:{field:"operationType",title:"Tipo de Operación"}}),r("kendo-grid-column",{attrs:{field:"amount",title:"Amount",format:"{0:c}"}}),r("kendo-grid-column",{attrs:{field:"account.provider.name",title:"Nombre del Proveedor",width:120}}),r("kendo-grid-column",{attrs:{field:"isSuccesfull",title:"Operación Exitosa"}})],1)],1)])},Mt=[],It=r("cebc"),St={name:"MovementsTable",computed:Object(C["d"])(["operations"]),methods:Object(It["a"])({},Object(C["b"])(["getOperations"])),mounted:function(){this.getOperations()}},$t=St,Lt=Object(s["a"])($t,jt,Mt,!1,null,"22ac6843",null),Nt=Lt.exports,qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticStyle:{margin:"1em"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-10 offset-md-1"},[r("div",{staticClass:"card"},[r("ProviderCreateForm",{staticStyle:{margin:"1em"}})],1)])])]),r("div",{staticStyle:{margin:"1em"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-10 offset-md-1"},[r("ProviderTable")],1)])])])},Bt=[],At=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("kendo-grid",{ref:"grid",attrs:{"data-source":t.providers,pageable:!0,"sortable-mode":"multiple","sortable-allow-unsort":!0,resizable:!0,"sortable-show-indexes":!0,"filterable-mode":"row"}},[r("kendo-grid-column",{attrs:{field:"id",title:"ID"}}),r("kendo-grid-column",{attrs:{field:"name",title:"Nombre"}}),r("kendo-grid-column",{attrs:{field:"company",title:"Proveedor"}}),r("kendo-grid-column",{attrs:{field:"code",title:"Código"}}),r("kendo-grid-column",{attrs:{field:"paymentEndpoint",title:"Endpoint de pago"}}),r("kendo-grid-column",{attrs:{field:"rollbackEndPoint",title:"Endpoint de devolución"}}),r("kendo-grid-column",{attrs:{field:"linkEndpoint",title:"Endpoint de asociación"}}),r("kendo-grid-column",{attrs:{command:{text:"Borrar",click:t.startProviderDelete},title:"&nbsp;",width:100}})],1)},Dt=[],Ft={name:"ProviderTable",computed:Object(C["d"])(["providers"]),methods:Object(It["a"])({},Object(C["b"])(["getProviders","deleteProvider"]),{startProviderDelete:function(t){t.preventDefault();var e=this.$refs.grid.kendoWidget(),r=e.dataItem(t.currentTarget.closest("tr"));this.deleteProvider(r.id)}}),mounted:function(){this.getProviders()}},Ht=Ft,zt=Object(s["a"])(Ht,At,Dt,!1,null,"8cde6ce2",null),Ut=zt.exports,Wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{submit:t.submit}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"name"}},[t._v("Nombre")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name","aria-describedby":"nameHelp",placeholder:"Ingrese un nombre",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),r("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("Este nombre servirá de identificación para los usuarios.")])]),r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"company"}},[t._v("Empresa")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"}],staticClass:"form-control",attrs:{type:"text",id:"company",placeholder:"Ingrese companía",required:""},domProps:{value:t.company},on:{input:function(e){e.target.composing||(t.company=e.target.value)}}})]),r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"name"}},[t._v("Código")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",id:"code","aria-describedby":"codeHelp",placeholder:"Ingrese un código",required:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),r("small",{staticClass:"form-text text-muted",attrs:{id:"codeHelp"}},[t._v("Esto supongo que servirá para algo en algún momento...")])])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"pay-endpoint"}},[t._v("Endpoint de pago")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentEndpoint,expression:"paymentEndpoint"}],staticClass:"form-control",attrs:{type:"url",id:"pay-endpoint","aria-describedby":"pay-endpointHelp",placeholder:"Ingrese endpoint de pago",required:""},domProps:{value:t.paymentEndpoint},on:{input:function(e){e.target.composing||(t.paymentEndpoint=e.target.value)}}}),r("small",{staticClass:"form-text text-muted",attrs:{id:"pay-endpointHelp"}},[t._v("Esta url será a la que se posteen los pagos")])]),r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"roll-endpoint"}},[t._v("Endpoint de rollback")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.rollbackEndPoint,expression:"rollbackEndPoint"}],staticClass:"form-control",attrs:{type:"url",id:"roll-endpoint",placeholder:"Ingrese endpoint de rollback",required:""},domProps:{value:t.rollbackEndPoint},on:{input:function(e){e.target.composing||(t.rollbackEndPoint=e.target.value)}}})]),r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"link-endpoint"}},[t._v("Endpoint de asociación")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.linkEndPoint,expression:"linkEndPoint"}],staticClass:"form-control",attrs:{type:"url",id:"link-endpoint",placeholder:"Ingrese endpoint de asociación",required:""},domProps:{value:t.linkEndPoint},on:{input:function(e){e.target.composing||(t.linkEndPoint=e.target.value)}}})])]),r("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},attrs:{type:"submit"}},[t._v("Submit")])])},Gt=[],Vt={name:"ProviderCreateForm",data:function(){return{name:"",company:"",code:"",paymentEndpoint:"",rollbackEndPoint:"",linkEndPoint:""}},methods:Object(It["a"])({submit:function(t){t.preventDefault();var e={name:this.name,company:this.company,code:this.code,rollbackEndPoint:this.rollbackEndPoint,paymentEndpoint:this.paymentEndpoint,linkEndPoint:this.linkEndPoint};this.createProvider(e)}},Object(C["b"])(["createProvider"]))},Jt=Vt,Kt=Object(s["a"])(Jt,Wt,Gt,!1,null,"3fa7d2e0",null),Qt=Kt.exports,Xt={name:"Providers",components:{ProviderCreateForm:Qt,ProviderTable:Ut}},Yt=Xt,Zt=Object(s["a"])(Yt,qt,Bt,!1,null,"7501bc38",null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{margin:"1em"}},[r("div",{staticClass:"row"},[t._m(0),r("PaymentMethodTable")],1),r("div",{staticStyle:{margin:"1em"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-10 offset-md-1"},[r("div",{staticClass:"card"},[r("PaymentButtonCreateForm",{staticStyle:{margin:"1em"}})],1)])])]),r("div",{staticClass:"row",staticStyle:{"margin-top":"3em"}},[t._m(1),r("PaymentButtonTable")],1)])},re=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-md-10 offset-md-1"},[r("h4",[t._v("Medios de Pago")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-md-10 offset-md-1"},[r("h4",[t._v("Botones de Pago")])])}],ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"col-md-10 offset-md-1"},[r("kendo-grid",{ref:"grid",attrs:{"data-source":t.methods,pageable:!0,resizable:!0,"sortable-mode":"multiple","sortable-allow-unsort":!0,"sortable-show-indexes":!0,"filterable-mode":"row"}},[r("kendo-grid-column",{attrs:{field:"id",hidden:!0}}),r("kendo-grid-column",{attrs:{field:"name",title:"Alias"}}),r("kendo-grid-column",{attrs:{field:"company",title:"Proveedor"}}),r("kendo-grid-column",{attrs:{field:"creationTimestamp",title:"Fecha de creación"}}),r("kendo-grid-column",{attrs:{command:{text:"Borrar",click:t.startMethodDelete},title:"&nbsp;",width:100}})],1)],1)])},ae=[],oe={name:"PaymentMethodTable",data:function(){return{}},computed:Object(C["d"])(["methods"]),methods:Object(It["a"])({},Object(C["b"])(["getMethods","deleteMethod"]),{startMethodDelete:function(t){t.preventDefault();var e=this.$refs.grid.kendoWidget(),r=e.dataItem(t.currentTarget.closest("tr"));this.deleteMethod(r.id)},openButtonModal:function(t){t.preventDefault();var e=this.$refs.grid.kendoWidget(),r=e.dataItem(t.currentTarget.closest("tr"));this.deleteMethod(r.id)}}),mounted:function(){this.getMethods()}},se=oe,ie=Object(s["a"])(se,ne,ae,!1,null,"effefe54",null),ce=ie.exports,le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"col-md-10 offset-md-1"},[r("kendo-grid",{ref:"grid",attrs:{"data-source":t.buttons,pageable:!0,resizable:!0,"sortable-mode":"multiple","sortable-allow-unsort":!0,"sortable-show-indexes":!0,"filterable-mode":"row"}},[r("kendo-grid-column",{attrs:{field:"id",hidden:!0}}),r("kendo-grid-column",{attrs:{field:"code",title:"Código"}}),r("kendo-grid-column",{attrs:{field:"name",title:"Proveedor"}}),r("kendo-grid-column",{attrs:{field:"amount",title:"Monto"}}),r("kendo-grid-column",{attrs:{field:"creationDate",title:"Fecha de creación"}}),r("kendo-grid-column",{attrs:{command:{text:"Copiar link",click:t.copyLink},title:"&nbsp;",width:100}}),r("kendo-grid-column",{attrs:{command:{text:"Borrar",click:t.startMethodDelete},title:"&nbsp;",width:100}})],1)],1)])},ue=[],de={name:"PaymentButtonTable",data:function(){return{}},computed:Object(C["d"])(["buttons"]),methods:Object(It["a"])({},Object(C["b"])(["getButtons","deleteButton"]),{startMethodDelete:function(t){t.preventDefault();var e=this.$refs.grid.kendoWidget(),r=e.dataItem(t.currentTarget.closest("tr"));this.deleteButton(r.id)},copyLink:function(t){var e=this.$refs.grid.kendoWidget(),r=e.dataItem(t.currentTarget.closest("tr"));this.copyToClipboard("home/payment/".concat(r.id))},copyToClipboard:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}),mounted:function(){this.getButtons()}},me=de,pe=Object(s["a"])(me,le,ue,!1,null,"7cbf8b7c",null),ve=pe.exports,fe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{submit:t.submit}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"paymentMethod"}},[t._v("Medio de Pago")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.paymentId,expression:"paymentId"}],staticClass:"custom-select",attrs:{id:"paymentMethod"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.paymentId=e.target.multiple?r:r[0]}}},t._l(t.methods,function(e){return r("option",{domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}),0),r("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("\n                    Este será el medio de pago al que se le acredite el dinero\n                ")])]),r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"code"}},[t._v("Código")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",id:"code",placeholder:"Ingrese un código para identificar su botón",required:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"amount"}},[t._v("Monto")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control",attrs:{type:"number",id:"amount",placeholder:"Ingrese un monto",min:"1",required:""},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})])]),r("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},attrs:{type:"submit"}},[t._v("Submit")])])},ge=[],he={name:"ProviderCreateForm",data:function(){return{paymentId:"",code:"",amount:0}},computed:Object(C["d"])(["methods"]),methods:Object(It["a"])({submit:function(t){t.preventDefault();var e={paymentMethodId:this.paymentId,code:this.code,amount:this.amount};this.createButton(e)}},Object(C["b"])(["createButton"]))},be=he,ye=Object(s["a"])(be,fe,ge,!1,null,"9082f306",null),we=ye.exports,ke={name:"PaymentMethods",components:{PaymentMethodTable:ce,PaymentButtonTable:ve,PaymentButtonCreateForm:we}},Ce=ke,Pe=Object(s["a"])(Ce,ee,re,!1,null,"7cf46c1f",null),_e=Pe.exports,xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},Ee=[],Oe={name:"PaymentMethodConfirmation",computed:{payload:function(){return{providerCode:this.$route.query.code,operationTokenFromProvider:this.$route.query.token}}},mounted:function(){var t=this;console.log(this.payload),J(this.payload).then(function(){return t.$router.push("methods")})}},Re=Oe,Te=Object(s["a"])(Re,xe,Ee,!1,null,null,null),je=Te.exports,Me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"col-md-10 offset-md-1"},[r("PaymentForm",{staticStyle:{margin:"1em"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isTransactionInProgress,expression:"isTransactionInProgress"}],staticClass:"col-md-4 offset-md-4",staticStyle:{"margin-top":"10em"}},[r("Loader",{attrs:{message:"Por favor espere, el pago está siendo realizado","data-cy":"loader"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.hasTransactionFinished,expression:"hasTransactionFinished"}],staticClass:"col-md-4 offset-md-4",staticStyle:{"margin-top":"10em"},attrs:{"data-cy":"payment-success"}},[r("p",[t._v("La transacción se ha realizado correctamente")]),r("button",{staticClass:"btn btn-primary",on:{click:t.goHome}},[t._v("Volver al inicio")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.hasTransactionError,expression:"hasTransactionError"}],staticClass:"col-md-4 offset-md-4",staticStyle:{"margin-top":"10em"}},[r("p",[t._v("Ha habido un error al realizar la transferencia. Porfavor intente más tarde")]),r("button",{staticClass:"btn btn-primary",on:{click:t.goHome}},[t._v("Volver al inicio")])])])},Ie=[],Se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{submit:t.submit}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"paymentMethod"}},[t._v("Eliga el medio de pago")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.methodId,expression:"methodId"}],staticClass:"custom-select",attrs:{id:"paymentMethod","data-cy":"methods",required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.methodId=e.target.multiple?r:r[0]}}},t._l(t.getMethodsForPayment,function(e){return r("option",{domProps:{value:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                ")])}),0),r("small",{staticClass:"form-text text-muted",attrs:{id:"methodHelp"}},[t._v("\n                Este será el medio de pago al que se le acredite el dinero\n            ")])]),r("div",{staticClass:"form-group col"},[r("label",{attrs:{for:"description"}},[t._v("Descripcion")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",id:"description","data-cy":"description",placeholder:"Ingrese companía",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),r("small",{staticClass:"form-text text-muted",attrs:{id:"descriptionHelp"}},[t._v("\n                Recordatorio del motivo de la transacción\n            ")])])]),r("input",{staticClass:"btn btn-primary",staticStyle:{float:"right"},attrs:{disabled:t.isTransactionInProgress,type:"submit",value:"Submit","data-cy":"submit"}})])},$e=[],Le={name:"PaymentForm",data:function(){return{methodId:0,description:""}},computed:Object(It["a"])({},Object(C["c"])(["getMethodsForPayment","isTransactionInProgress"])),methods:Object(It["a"])({},Object(C["b"])(["getMethods","makePayment"]),{submit:function(t){t.preventDefault(),this.makePayment({buttonId:this.$route.params.id,paymentMethodId:this.methodId,description:this.description})}}),mounted:function(){this.getMethods()}},Ne=Le,qe=Object(s["a"])(Ne,Se,$e,!1,null,"1205d985",null),Be=qe.exports,Ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticStyle:{"text-align":"center"}},[r("p",{staticClass:"centered"},[t._v(" "+t._s(t.message))]),t._m(0)])])},De=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"spinner"},[r("div",{staticClass:"bubble-1"}),r("div",{staticClass:"bubble-2"})])}],Fe={name:"Loader",props:{message:{type:String}}},He=Fe,ze=(r("74ae"),Object(s["a"])(He,Ae,De,!1,null,null,null)),Ue=ze.exports,We={name:"Payment",components:{Loader:Ue,PaymentForm:Be},computed:Object(It["a"])({},Object(C["c"])(["isTransactionInProgress","hasTransactionFinished","hasTransactionError"])),methods:{goHome:function(){this.$router.push("/home")}}},Ge=We,Ve=Object(s["a"])(Ge,Me,Ie,!1,null,null,null),Je=Ve.exports,Ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"jumbotron superpagos-password-recovery"},[r("Messages",{attrs:{"success-msgs":t.msgs,errors:t.errors,"data-cy":"messages"}}),r("form",{on:{submit:t.send}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"emailInput"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.resetPasswordRequest.email,expression:"resetPasswordRequest.email"}],staticClass:"form-control",attrs:{type:"email",id:"emailInput","data-cy":"email",placeholder:"Email para restablecer contraseña",required:""},domProps:{value:t.resetPasswordRequest.email},on:{input:function(e){e.target.composing||t.$set(t.resetPasswordRequest,"email",e.target.value)}}})]),r("button",{staticClass:"btn badge-primary btn-block",attrs:{type:"submit","data-cy":"submit"}},[t._v("Enviar")]),r("br"),r("div",{staticClass:"offset-sm-7 col-sm-5 no-padding"},[r("button",{staticClass:"btn badge-primary btn-block",attrs:{"data-cy":"back-button"},on:{click:t.goToLogin}},[t._v("Atrás\n                ")])])])],1)])},Qe=[],Xe={name:"PasswordRecoveryEmail",components:{Messages:yt},data:function(){return{resetPasswordRequest:{email:""},msgs:[],errors:[]}},methods:{send:function(t){var e=this;t.preventDefault(),at(this.resetPasswordRequest).then(function(t){""===t.data?e.errors.push("El email ingresado no corresponde a ninguna cuenta existente."):e.msgs.push("El email ha sido enviado.")})},goToLogin:function(){this.$router.push("/login")}}},Ye=Xe,Ze=(r("c88d"),Object(s["a"])(Ye,Ke,Qe,!1,null,"2e601025",null)),tr=Ze.exports,er=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"jumbotron superpagos-password-recovery"},[r("ErrorMessages",{attrs:{errors:t.errors,"data-cy":"errors"}}),r("form",{on:{submit:t.resetPassword}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"passwordInput"}},[t._v("Nueva Contraseña")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordRecovery.password,expression:"passwordRecovery.password"}],staticClass:"form-control",attrs:{type:"password",id:"passwordInput","data-cy":"password",placeholder:"Contraseña",required:""},domProps:{value:t.passwordRecovery.password},on:{input:function(e){e.target.composing||t.$set(t.passwordRecovery,"password",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordRecovery.confirmedPassword,expression:"passwordRecovery.confirmedPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmedPasswordInput","data-cy":"confirmedPassword",placeholder:"Repetir Contraseña",required:""},domProps:{value:t.passwordRecovery.confirmedPassword},on:{input:function(e){e.target.composing||t.$set(t.passwordRecovery,"confirmedPassword",e.target.value)}}})]),r("button",{staticClass:"btn badge-primary btn-block",attrs:{type:"submit","data-cy":"submit"}},[t._v("Enviar")]),r("br"),r("div",{staticClass:"offset-sm-7 col-sm-5 no-padding"},[r("button",{staticClass:"btn badge-primary btn-block",attrs:{"data-cy":"register-button"},on:{click:t.goToLogin}},[t._v("Atrás\n                ")])])])],1)])},rr=[],nr={name:"PasswordRecovery",components:{ErrorMessages:yt},data:function(){return{passwordRecovery:{id:this.$route.params.userId,token:this.$route.params.token,password:"",confirmedPassword:""},errors:[]}},methods:{resetPassword:function(t){var e=this;t.preventDefault(),this.passwordRecovery.password===this.passwordRecovery.confirmedPassword?ot(this.passwordRecovery).then(function(){return e.goToLogin()}):this.errors.push("Las contraseñas no son iguales.")},goToLogin:function(){this.$router.push("/login")}},watch:{$route:function(t){this.passwordRecovery.id=t.params.userId,this.passwordRecovery.token=t.params.token}}},ar=nr,or=(r("2ea7"),Object(s["a"])(ar,er,rr,!1,null,"703efb7e",null)),sr=or.exports;n["default"].use(u["a"]);var ir=new u["a"]({mode:"history",routes:[{path:"/",name:"landing",redirect:"login",component:N,children:[{path:"login",name:"login",component:Pt},{path:"register",name:"register",component:Tt},{path:"adminRegister",name:"adminRegister",component:Tt,props:{role:"ADMIN"}},{path:"passwordRecovery",name:"passwordRecoveryEmail",component:tr},{path:"passwordRecovery/:userId/:token",name:"passwordRecovery",component:sr}]},{path:"/home",meta:{requiresAuth:!0},component:j,children:[{path:"/",name:"operations",component:Nt},{path:"methodRegister",name:"methodRegister",component:je},{path:"methods",name:"methods",component:_e},{path:"providers",name:"providers",component:te,meta:{requiresAdmin:!0}},{path:"payment/:id",name:"payment",component:Je}]}]});ir.beforeEach(function(t,e,r){var n={to:t,from:e,next:r},a=[lr,ur],o=a.map(function(t){return t(n)}).filter(function(t){return void 0!==t});0===o.length?r():o[0]()});var cr=null,lr=function(t){var e=t.to,r=t.next;if(e.matched.some(function(t){return t.meta.requiresAuth})){var n=dt.getters["isAuthenticated"];if(n&&cr){console.log("User has authenticated! Redirecting to original request...");var a=cr;return cr=null,r(a)}return n?r():(console.log("User is not authenticated! Redirecting to login..."),cr=e.fullPath,r("/login"))}},ur=function(t){var e=t.to,r=t.next;if(e.matched.some(function(t){return t.meta.requiresAdmin})){var n=dt.state.isAdmin;if(!n)return console.log("User is not admin!"),r.bind(null,{path:"/"})}},dr=ir;function mr(){H.a.interceptors.request.use(function(t){var e=dt.state.shortLivedToken;return e&&(t.headers.Authorization="Bearer ".concat(e)),t}),H.a.interceptors.response.use(function(t){return t},function(t){return 401!==t.response.status||dt.getters["isAuthenticated"]?401===t.response.status&&dt.state.longLivedToken?dt.dispatch("renewToken").then(function(){return H.a.request(t.config)}):401!==t.response.status||dt.state.longLivedToken?B.a.reject(t):dt.dispatch("logout"):B.a.reject(t)})}r("4989"),r("ab8b"),r("935e"),r("9cca");var pr=r("fd21"),vr=r("63c2");n["default"].use(pr["GridInstaller"]),n["default"].use(vr["DataSourceInstaller"]),H.a.defaults.baseURL="http://localhost:5000/api",n["default"].config.productionTip=!1,mr(),new n["default"]({router:dr,store:dt,components:{Grid:pr["Grid"]},render:function(t){return t(l)}}).$mount("#app"),window.Cypress&&(console.log("Vuex store is included in test suite..."),window.appStore=dt)},"58cf":function(t,e,r){},"5f41":function(t,e,r){},"64a9":function(t,e,r){},"69af":function(t,e,r){},"74ae":function(t,e,r){"use strict";var n=r("69af"),a=r.n(n);a.a},"94df":function(t,e,r){"use strict";var n=r("a062"),a=r.n(n);a.a},a062:function(t,e,r){},c88d:function(t,e,r){"use strict";var n=r("58cf"),a=r.n(n);a.a},e2b7:function(t,e,r){"use strict";var n=r("0845"),a=r.n(n);a.a},f79e:function(t,e,r){t.exports=r.p+"img/landing-image.a7bea05d.svg"}});
//# sourceMappingURL=app.947e44cf.js.map